{% extends 'master' %}

{% block content %}
	<div class="wrapper">
		<div class="page-header clear-filter" filter-color="orange">
		<div class="page-header-image" data-parallax="true"></div>
			<div class="container">
				<div class="row" style="padding-top:90px">
					<div class="col-md-12 animsition" data-animsition-in-class="fade-in-down-sm" data-animsition-in-duration="500">
						<div class="row">
							<div class="col-lg-6 col-md-12">
								<h4 class="category">Faculty Dashboard | Coordinator</h4>
							</div>
              <div class="col-lg-2">
                  <div class="dropdown">
                      <a href="#pablo" class="btn btn-primary btn-round dropdown-toggle" data-toggle="dropdown" id="navbarDropdownMenuLink1">
                          <strong> More options</strong>
                      </a>
                      <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink1">
                          <a class="dropdown-item" href="/adviserDashboard">Adviser page</a>
                          <a class="dropdown-item" href="#">Panelist page</a>
                          <div class="dropdown-divider"></div>
                          <a class="dropdown-item" data-toggle="modal" data-target="#groupControl" href="#">Create groups</a>
                          <a class="dropdown-item" data-toggle="modal" data-target="#groupControl" href="#">Add panelist</a>
                          <div class="dropdown-divider"></div>
                          <a class="dropdown-item" href="#">Create notification</a>
                          <div class="dropdown-divider"></div>
                          <a class="dropdown-item" href="#">Create Must Have (Project Requirements)</a>
                      </ul>
                  </div>
              </div>
						</div>
						<!--Recent endorsements from Adviser Tables Start-->
						<div class="card">
							<div class="card-header bg-primary">
								<ul class="nav nav-tabs nav-tabs-neutral">
									<li class="nav-item">
										<a class="nav-link active" data-toggle="tab" role="tab">
										Recent endorsements from Adviser
										</a>
									</li>
								</ul>
							</div>
              <div class="card-body">
                  <table class="table table-hover table-responsive">
                  {% if currentUser %}
                      <thead class="text-primary">
                          <th><strong>Group</strong></th>
                          <th><strong>Proposal</strong></th>
                          <th><strong>Endorsed By</strong></th>
                          <th><strong>Endorse Date</strong></th>
                          <th><strong>Remarks</strong></th>
                          <th><strong>Status</strong></th>
                      </thead>
                      <tbody>
                          {% for item in endorse %}
                          <tr class="text-black">
                              <td>{{item.groupId}}</td>
                              <td>{{item.description}}</td>
                              <td>{{item.endorseBy}}</td>
                              <td>{{item.created_at}}</td>
                              <td>{{item.notes}}</td>
                              <td>&nbsp;</td>
                          </tr>
                          {% endfor %}
                      </tbody>
                      {% endif %}
                  </table>
              </div>
						</div>
						<!--Recent endorsements from Adviser Tables End-->

						<!-- Project Requirements Tab Start-->
						<div class="card">
							<div class="card-header bg-primary">
								<ul class="nav nav-tabs nav-tabs-neutral">
									<li class="nav-item">
										<a class="nav-link active" data-toggle="tab" role="tab">
										content_paste | Project Requirements | List of milestones
										</a>
									</li>
								</ul>
							</div>
							<div class="card-body">
								<table class="table table-hover table-responsive">
								{% if currentUser %}
									<thead class="text-primary">
										<th>&nbsp;</th>
										<th><strong>Project #</strong></th>
										<th><strong>Deadline</strong></th>
										<th><strong>Must Have</strong></th>
										<th><strong>Must Have</strong></th>
										<th><strong>Progress (%)</strong></th>
										<th>&nbsp;</th>
									</thead>
									<tbody>
										{% for item in requirements %}
										<tr>
											<td>{{item.projectId}}</td>
											<td>{{item.deadline}}</td>
											<td>{{item.must_have}}</td>
											<td>{{item.milestone}}</td>
											<td><a href="/editRequirement">Edit</a>Edit</td>
										</tr>
										{% endfor %}
									</tbody>
									{% endif %}
								</table>
							</div>
						</div>
						<!-- Project Requirements Tab End-->
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Fruit Jam Create Group Control -->
	<div class="modal fade" id="groupControl" role="dialog">
			<div class="modal-dialog">
					<!-- Modal content -->
					<div class="modal-content">
							<div class="modal-header">
									<h5 class="modal-title">Create Groups</h5>
									<a class="nav nav-link nav-pills nav-pills-success"
										 data-dismiss="modal" data-toggle="tooltip" aria-haspopup="true" aria-expanded="true" title="Close"><i class="now-ui-icons ui-1_simple-remove"></i>
									</a>
							</div>
							<div class="modal-body">
												<!--Error-->
										{% if old('error') %}
													<div class="text-danger">
															{{ old('error') }}
													</div>
											{% endif %}
												<!--Success-->
										{% if old('success') %}
													<div class="text-success">
															{{ old('success') }}
													</div>
											{% endif %}
									<form class="form-horizontal" role="form" method="POST" action="/createGroup" enctype="multipart/form-data">

											{{ csrfField }}

											<div class="col-lg-12">
													<label for="endorsedBy" class="col-lg-12 control-label">Created by</label>
													<div class="form-group">
															<input id="endorsedBy" type="email" class="form-control" name="endorsedBy" value="{{currentUser.email}}" disabled>
													</div>
											</div>

											<div class="col-lg-4">
													<label for="groupId" class="col-lg-12 control-label">Group Id</label>
													<div class="form-group">
															<input id="groupId" type="number" class="form-control" name="groupId" min="0" max="100" placeholder="0" required>
													</div>
											</div>

											<div class="col-lg-12">
													<label for="groupName" class="col-lg-12 control-label">Group Name</label>
													<div class="form-group">
															<input id="groupName" type="text" class="form-control" name="groupName" required>
													</div>
											</div>

											<div class="col-lg-12">
	                        <label class="col-lg-12 control-label">Class Schedule</label>
	                        <div class="form-group">
	                          <select name="clSched" id="clSched" class="selectpicker " data-style="btn  btn-default btn-round"  required>
	                                <option disabled selected> Schedule Options</option>
	                                <option value = "MWF 10:00AM - 12:00PM" > MWF 10:00AM - 12:00PM </option>
	                                <option value = "TTH 10:00AM - 12:00PM" > TTH 10:00AM - 12:00PM </option>
	                                {# <option value = "Finished" > Finished </option> #}
	                          </select>
	                        </div>
	                    </div>

											<div class="col-lg-4">
													<label for="groupKey" class="col-lg-12 control-label">Group Key</label>
													<div class="form-group">
															<input id="groupKey" type="number" class="form-control" name="groupKey" min="0" max="9999999999" placeholder="25462729" required>
													</div>

											</div>
											<label class="text-danger col-lg-12 control-label">{{createMessage}}</label>
											<div class="col-lg-12">
													<label for="adviser" class="col-lg-12 control-label">Adviser</label>
													<div class="form-group">
															<input id="adviser" type="email" class="form-control" name="adviser"  required>
													</div>
											</div>

											<div class="col-lg-12">
													<label for="chairman" class="col-lg-12 control-label">Chairman</label>
													<div class="form-group">
															<input id="chairman" type="email" class="form-control" name="chairman"  required>
													</div>
											</div>

											<div class="footer text-center">
												 <button type="submit" class="btn btn-primary btn-round btn-lg">Create</button>
											</div>
									</form>

									<!--Display Created Groups-->
									<div class="card-body">
											{% if currentUser %}
													<table class="table table-hover table-md table-responsive">
															<thead class="text-warning">
																	<th><strong>Group Id</strong></th>
																	<th><strong>Class Schedule</strong></th>
																	<th><strong>Group Key</strong></th>
															</thead>
															<tbody>
																	{% for g in gc %}
																			<tr class="text-black">
																					<td>{{g.groupId}}</td>
																					<td>{{g.clSched}}</td>
																					<td>{{g.groupKey}}</td>
																			</tr>
																	{% endfor %}
															</tbody>
													</table>
											{% endif %}
									</div>
							</div>
							<div class="modal-footer"></div>
					</div>
			</div>
	</div>
{% endblock %}
